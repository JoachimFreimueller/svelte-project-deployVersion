import{t as D,a as h,c as L}from"../chunks/VckQz0Ib.js";import{a5 as z,a6 as G,a7 as se,l as ne,h as W,am as oe,a2 as le,an as ce,K as Q,N as g,L as m,O as _,P as U,R as X,T as j,S as C,g as t,V as N,M as E}from"../chunks/DiHCPFIp.js";import{d as Y,s as V}from"../chunks/BXnVjihv.js";import{i as B}from"../chunks/h2lelEI4.js";import{e as O,i as T}from"../chunks/BcrmY-09.js";import{a as ue,s as H,r as de}from"../chunks/BOmSPfQ5.js";import{o as ve}from"../chunks/CTjE5moe.js";import{g as Z}from"../chunks/A68ZYUwt.js";function fe(e){var r=se,i=ne;z(null),G(null);try{return e()}finally{z(r),G(i)}}function ge(e,r,i,l=i){e.addEventListener(r,()=>fe(i));const s=e.__on_r;s?e.__on_r=()=>{s(),l(!0)}:e.__on_r=()=>l(!0),ue()}function _e(e,r,i){var l=e==null?"":""+e;return l===""?null:l}function me(e,r,i,l,s,u){var o=e.__className;if(W||o!==i||o===void 0){var v=_e(i);(!W||v!==e.getAttribute("class"))&&(v==null?e.removeAttribute("class"):e.className=v),e.__className=i}return u}function he(e,r,i=r){var l=oe();ge(e,"input",s=>{var u=s?e.defaultValue:e.value;if(u=I(e)?J(u):u,i(u),l&&u!==(u=r())){var o=e.selectionStart,v=e.selectionEnd;e.value=u??"",v!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(v,e.value.length))}}),(W&&e.defaultValue!==e.value||le(r)==null&&e.value)&&i(I(e)?J(e.value):e.value),ce(()=>{var s=r();I(e)&&s===J(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function I(e){var r=e.type;return r==="number"||r==="range"}function J(e){return e===""?null:+e}var be=(e,r)=>r(),xe=D('<div class="max-w-sm rounded-2xl shadow-lg overflow-hidden bg-white hover:shadow-xl transition-shadow duration-300 m-4 cursor-pointer"><img class="w-full h-48 object-contain p-4"> <div class="p-4 flex flex-col justify-between"><h2 class="text-xl font-semibold text-gray-800 mb-2 truncate"> </h2> <div class="flex justify-between items-center"><span class="text-lg font-bold text-gray-800"> </span> <span class="text-sm bg-gray-100 text-gray-700 px-2 py-1 rounded-full"> </span></div></div></div>');function K(e,r){Q(r,!0);function i(){localStorage.setItem("selectedProduct",JSON.stringify(r.product)),Z("/Details")}var l=xe();l.__click=[be,i];var s=g(l),u=m(s,2),o=g(u),v=g(o,!0);_(o);var y=m(o,2),p=g(y),M=g(p);_(p);var b=m(p,2),w=g(b,!0);_(b),_(y),_(u),_(l),U(()=>{H(s,"src",r.imageSource),H(s,"alt",r.title),V(v,r.title),V(M,`$${r.price??""}`),V(w,r.category)}),h(e,l),X()}Y(["click"]);var ye=(e,r)=>r(),pe=(e,r)=>r(),we=(e,r,i)=>r(t(i)),ke=D("<button> </button>"),Se=D('<div class="bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-xl mb-6 text-sm sm:text-base shadow-sm"><strong class="font-semibold">Fehler:</strong> </div>'),Pe=D('<div class="p-8 bg-gray-50 min-h-screen"><div class="flex justify-between items-center mb-6 w-full"><h1 class="text-3xl font-bold text-gray-800">ðŸ›’ Shopfner</h1> <button class="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl shadow-md transition"><span>Warenkorb</span></button></div> <input type="text" placeholder="Suche nach Produkten..." class="w-full sm:w-1/2 px-4 py-3 rounded-xl border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"> <!> <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"><!></div> <br> <!></div>');function De(e,r){Q(r,!0);let i=j(C([])),l=j(C([])),s=j(""),u=C([]),o=C([]),v=j(!1);ve(async()=>{try{const a=await fetch("https://fakestoreapi.com/products");if(!a.ok)throw new Error(`Fehler beim Laden der Produkte: ${a.status}`);N(i,await a.json(),!0);for(let n=0;n<t(i).length;n++)u.includes(t(i)[n].category)||u.push(t(i)[n].category)}catch(a){N(v,!0),console.error(a)}});function y(){N(l,t(i).filter(a=>{if(o.length===0){if(a.title.toLowerCase().includes(t(s).toLowerCase()))return!0}else if(t(s)==!1){if(o.includes(a.category))return!0}else if(a.title.toLowerCase().includes(t(s).toLowerCase())&&o.includes(a.category))return!0;return!1}),!0)}function p(){Z("/Cart")}function M(a){if(o.includes(a)){let n=o.indexOf(a);o.splice(n,1)}else o.push(a);y()}var b=Pe(),w=g(b),$=m(g(w),2);$.__click=[ye,p],_(w);var P=m(w,2);de(P),P.__input=[pe,y];var q=m(P,2);O(q,17,()=>u,T,(a,n)=>{var f=ke();f.__click=[we,M,n];var k=g(f,!0);_(f),U(d=>{me(f,1,d),V(k,t(n))},[()=>`px-4 py-2 rounded-full text-sm font-medium shadow-sm transition 
                ${o.includes(t(n))?"bg-blue-600 text-white":"bg-gray-200 text-gray-800 hover:bg-blue-100"}`]),h(a,f)});var A=m(q,2),ee=g(A);{var te=a=>{var n=L(),f=E(n);{var k=x=>{var S=L(),F=E(S);O(F,17,()=>t(l),T,(R,c)=>{K(R,{get id(){return t(c).id},get title(){return t(c).title},get price(){return t(c).price},get description(){return t(c).description},get imageSource(){return t(c).image},get rating(){return t(c).rating},get category(){return t(c).category},get product(){return t(c)}})}),h(x,S)},d=x=>{var S=L(),F=E(S);O(F,17,()=>t(i),T,(R,c)=>{K(R,{get id(){return t(c).id},get title(){return t(c).title},get price(){return t(c).price},get description(){return t(c).description},get imageSource(){return t(c).image},get rating(){return t(c).rating},get category(){return t(c).category},get product(){return t(c)}})}),h(x,S)};B(f,x=>{o.length>0?x(k):x(d,!1)})}h(a,n)},re=a=>{var n=L(),f=E(n);O(f,17,()=>t(l),T,(k,d)=>{K(k,{get id(){return t(d).id},get title(){return t(d).title},get price(){return t(d).price},get description(){return t(d).description},get imageSource(){return t(d).image},get rating(){return t(d).rating},get category(){return t(d).category},get product(){return t(d)}})}),h(a,n)};B(ee,a=>{t(s)==!1?a(te):a(re,!1)})}_(A);var ae=m(A,4);{var ie=a=>{var n=Se(),f=m(g(n));f.nodeValue=" Die Produkte konnten nicht geladen werden. Bitte versuche es spÃ¤ter erneut.",_(n),h(a,n)};B(ae,a=>{t(v)&&a(ie)})}_(b),he(P,()=>t(s),a=>N(s,a)),h(e,b),X()}Y(["click","input"]);export{De as component};
